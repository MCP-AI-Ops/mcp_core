# MCP Core 모델/데이터 작업 일지 (2025-01-19)

## 1. demo 노트북 분할 및 학습 파이프라인 재구성
- `demoMCPproject.ipynb`에 흩어져 있던 전처리·학습·평가 로직을 `app/core/predictor/train_from_notebook.py`로 분리.
- 데이터 누수 방지를 위해 train 구간에서만 스케일러 `fit`, val/test는 `transform`만 수행하도록 구조화.
- 결측치는 forward-fill 후 남은 값을 0으로 채우는 규칙을 명시했고, 이상치(극값)는 IQR 기반으로 클램프 처리.
- 모델 체크포인트/메타데이터를 `models/` 폴더로 통일하고 CLI 인자(경로·시퀀스 길이·epoch 등)를 지원해 재학습을 자동화.

## 2. 서빙 예측기 및 데이터 소스 정비
- `baseline_predictor.py`, `lstm_predictor.py`를 포함한 모델 관련 코드에 한국어 로그와 주석을 적용하고 폴백/예외 메시지를 정비.
- `policy.py`, `anomaly.py`, `alerts/discord_alert.py`를 한국어 알림으로 통일하여 이상 탐지→Discord 전송 흐름을 명확히 함.
- `data_sources/csv_source.py`, `data_sources/mysql_source.py`에서 CSV/MySQL 처리 로직을 정리하고 예외 메시지를 일관된 형식으로 정비.
- 테스트 스크립트(`tests/discord_test.py`, `tests/anomaly_check.py`, `tests/smoke_check.py`)를 한글 출력으로 맞춰 점검 절차 문서화.

## 3. 문서화 및 가이드
- README를 재작성하여 파이프라인 개요, 결측/이상치 처리 규칙, 데이터 소스 전환 방법, 학습 스크립트 사용법 등을 통합 정리.
- 운영 가이드(`docs/operations_update.md`)와 README가 동일한 정보를 참조하도록 업데이트.

## 4. 기타 개선
- Discord 알림 모듈을 한국어 포맷으로 교체하고, Baseline 폴백 로직과 MySQL/CSV 데이터 소스 예외 메시지를 보기 쉽게 정리.
- 모델 관련 로그에 불필요한 이모티콘을 제거하여 운영 환경 로그가 깨지지 않도록 조정.
